{"version":3,"sources":["webpack:///./templates/list.hbs","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","tags","likes","views","comments","downloads","debounce","require","gallery","document","querySelector","loadMore","input","scrollTop","form","numberPage","nameImgOld","nameImg","outputText","event","stopEvent","value","fetch","then","response","json","clearListItems","total","alert","name","hits","map","templateList","join","insertAdjacentHTML","hidden","listImage","catch","error","console","log","innerHTML","addEventListener","preventDefault","window","scrollTo","pageXOffset","pageYOffset","documentElement","clientHeight"],"mappings":"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","file":"main.24949117430df9c5f724.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li>\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":18},\"end\":{\"line\":3,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":16},\"end\":{\"line\":8,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":16},\"end\":{\"line\":12,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":16},\"end\":{\"line\":16,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":16},\"end\":{\"line\":20,\"column\":29}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","import './css/styles.css';\nimport './css/reset.css';\nimport templateList from './templates/list.hbs';\n\nvar debounce = require('lodash.debounce');\n\nconst gallery = document.querySelector('.gallery');\nconst loadMore = document.querySelector('button[name=\"load-more\"]');\nconst input = document.querySelector('input[name=\"query\"]');\nconst scrollTop = document.querySelector('.scrollTop');\nconst form = document.querySelector('.search-form');\n\nlet numberPage = 1;\nlet url = '';\nlet nameImgOld = '';\nlet nameImg = '';\nconst key = '15335166-46184c58e4c8bb577f38781ce';\n\nfunction outputText(event) {\n  stopEvent();\n  urlImage();\n  fetch(url)\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      if (nameImg === '') {\n        clearListItems();\n      } else {\n        listImage(data);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction urlImage() {\n  nameImgOld = nameImg;\n  nameImg = input.value;\n  url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${nameImg}&page=${numberPage}&per_page=12&key=${key}`;\n}\n\nfunction listImage(data) {\n  if (data.total === 0) {\n    alert('no image');\n    clearListItems();\n    input.value = '';\n  } else {\n    if (nameImgOld != nameImg) {\n      clearListItems();\n    }\n    const name = data.hits.map(data => templateList(data)).join('');\n    gallery.insertAdjacentHTML('beforeend', name);\n    loadMore.hidden = false;\n  }\n}\n\nfunction clearListItems() {\n  gallery.innerHTML = '';\n  loadMore.hidden = true;\n  stopEvent();\n}\n\nfunction stopEvent(event) {\n  form.addEventListener('submit', function(event) {\n    //if (event.keyCode == 13) {\n    event.preventDefault();\n    // }\n  });\n}\n\nscrollTop.addEventListener('click', event => {\n  window.scrollTo(pageXOffset, 0);\n});\n\nwindow.addEventListener('scroll', event => {\n  scrollTop.hidden = pageYOffset < document.documentElement.clientHeight;\n});\n\ninput.addEventListener('input', debounce(outputText, 2000));\nloadMore.addEventListener('click', event => {\n  numberPage++;\n  outputText();\n});\n"],"sourceRoot":""}